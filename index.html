<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>XSS Basic Tester</title>
</head>
<body>
  <h1>XSS Testing Tool (iframe only, no fetch)</h1>

  <form id="testForm">
    <label for="param">Parameter value for ?param=</label><br />
    <input
      type="text"
      id="param"
      name="param"
      size="60"
      value='"><img src=x onerror=alert(1)>' />
    <button type="submit">Test in iframe</button>
  </form>

  <h2>Iframe Preview:</h2>
  <iframe
    id="previewFrame"
    src=""
    width="800"
    height="400"
    style="border: 1px solid #ccc;"
    sandbox="allow-scripts allow-same-origin"
  ></iframe>

  <script>
    const form = document.getElementById('testForm');
    const iframe = document.getElementById('previewFrame');

    form.addEventListener('submit', function (e) {
      e.preventDefault();
      const paramValue = encodeURIComponent(form.param.value);
      const testUrl = `https://lalitpurnist.edu.np/?param=${paramValue}`;
      iframe.src = testUrl;
    });

    // Load default on page load
    form.dispatchEvent(new Event('submit'));
  </script>
</body>
</html>
